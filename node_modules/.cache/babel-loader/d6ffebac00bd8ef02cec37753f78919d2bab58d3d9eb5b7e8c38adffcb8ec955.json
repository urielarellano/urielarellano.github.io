{"ast":null,"code":"function profileFunction(){document.getElementById(\"profileDropdown\").classList.toggle(\"droppy\");}window.onclick=function(event){if(!event.target.matches('.profile-icon')){var dropdowns=document.getElementsByClassName(\"profile-dropdown\");var openDropdown=dropdowns[0];if(openDropdown.classList.contains(\"droppy\")){openDropdown.classList.remove(\"droppy\");}}};function signOut(){localStorage.removeItem('user');}async function checkUserInfo(){var user=JSON.parse(localStorage.getItem('user'));if(user){var email=user[0];const password=user[1];try{const response=await fetch(\"/home?email=\".concat(encodeURIComponent(email),\"&password=\").concat(encodeURIComponent(password)));if(response.ok){const result=await response.json();console.log(result);/*\r\n                    right here is where we're gonna get info from MongoDB\r\n                    (it will be stored in result, which is a json with user info)\r\n                    and then we use that info to display certain things...\r\n                */// below removes profile dropdown menu when a user is logged in\ndocument.getElementById(\"Login\").classList.toggle(\"display-toggle\");document.getElementById(\"Signup\").classList.toggle(\"display-toggle\");document.getElementById(\"Profile\").classList.toggle(\"display-toggle\");document.getElementById(\"Signout\").classList.toggle(\"display-toggle\");//////////////////////////////////////////////////////////////\n}else{console.error('Error fetching user info');alert('Error fetching user info');}}catch(error){console.error('Error:',error);alert('Error fetching user info');}}else{console.log('No user info found in localStorage');}}var user=JSON.parse(localStorage.getItem('user'));try{if(user){document.getElementById(\"noUser\").classList.toggle(\"display-toggle\");const userGreeting=document.getElementById(\"userGreeting\");var userEmail=user[0];userGreeting.textContent=\"We've been waiting for you, \"+userEmail.split('@')[0]+\".\";}else document.getElementById(\"userLoggedIn\").classList.toggle(\"display-toggle\");}catch(error){console.log('you are not on the homepage...');}document.getElementById(\"Profile\").classList.toggle(\"display-toggle\");document.getElementById(\"Signout\").classList.toggle(\"display-toggle\");checkUserInfo();/* /// this is how you access the user email stored locally ///\r\nconst user = localStorage.getItem('user');\r\n    if (user) {\r\n        const userArray = JSON.parse(user);\r\n        console.log(userArray[0]);\r\n    }\r\n*/","map":{"version":3,"names":["profileFunction","document","getElementById","classList","toggle","window","onclick","event","target","matches","dropdowns","getElementsByClassName","openDropdown","contains","remove","signOut","localStorage","removeItem","checkUserInfo","user","JSON","parse","getItem","email","password","response","fetch","concat","encodeURIComponent","ok","result","json","console","log","error","alert","userGreeting","userEmail","textContent","split"],"sources":["C:/Users/Andrew/Desktop/cs409-final-project-2/src/index.js"],"sourcesContent":["function profileFunction() {\r\n    document.getElementById(\"profileDropdown\").classList.toggle(\"droppy\");\r\n}\r\n\r\nwindow.onclick = function(event) {\r\n    if (!event.target.matches('.profile-icon')) {\r\n        var dropdowns = document.getElementsByClassName(\"profile-dropdown\");\r\n        \r\n        var openDropdown = dropdowns[0];\r\n        if (openDropdown.classList.contains(\"droppy\")) {\r\n            openDropdown.classList.remove(\"droppy\");\r\n        }\r\n    }\r\n}\r\n\r\nfunction signOut() {\r\n    localStorage.removeItem('user');\r\n}\r\n\r\nasync function checkUserInfo() {\r\n    var user = JSON.parse(localStorage.getItem('user'));\r\n    if (user) {\r\n        var email = user[0];\r\n        const password = user[1];\r\n        try {\r\n            const response = await fetch(`/home?email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`);\r\n            if (response.ok) {\r\n                const result = await response.json();\r\n                console.log(result);\r\n\r\n                /*\r\n                    right here is where we're gonna get info from MongoDB\r\n                    (it will be stored in result, which is a json with user info)\r\n                    and then we use that info to display certain things...\r\n                */\r\n               // below removes profile dropdown menu when a user is logged in\r\n                document.getElementById(\"Login\").classList.toggle(\"display-toggle\");\r\n                document.getElementById(\"Signup\").classList.toggle(\"display-toggle\");\r\n                document.getElementById(\"Profile\").classList.toggle(\"display-toggle\");\r\n                document.getElementById(\"Signout\").classList.toggle(\"display-toggle\");\r\n                //////////////////////////////////////////////////////////////\r\n\r\n            } else {\r\n                console.error('Error fetching user info');\r\n                alert('Error fetching user info');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            alert('Error fetching user info');\r\n        }\r\n    } else {\r\n        console.log('No user info found in localStorage');\r\n    }\r\n}\r\n\r\n\r\nvar user = JSON.parse(localStorage.getItem('user'));\r\ntry {\r\n    if (user) {\r\n        document.getElementById(\"noUser\").classList.toggle(\"display-toggle\");\r\n        const userGreeting = document.getElementById(\"userGreeting\");\r\n        var userEmail = user[0];\r\n        userGreeting.textContent = \"We've been waiting for you, \" + userEmail.split('@')[0] + \".\";\r\n    }\r\n    else\r\n        document.getElementById(\"userLoggedIn\").classList.toggle(\"display-toggle\");\r\n} catch (error) {\r\n    console.log('you are not on the homepage...')\r\n}\r\n\r\ndocument.getElementById(\"Profile\").classList.toggle(\"display-toggle\");\r\ndocument.getElementById(\"Signout\").classList.toggle(\"display-toggle\");\r\ncheckUserInfo();\r\n\r\n\r\n\r\n/* /// this is how you access the user email stored locally ///\r\nconst user = localStorage.getItem('user');\r\n    if (user) {\r\n        const userArray = JSON.parse(user);\r\n        console.log(userArray[0]);\r\n    }\r\n*/\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}